{"version":3,"file":"vue-render-plugin.common.js","sources":["../src/filters.js","../src/mixin.js","../src/Socket.vue","../node_modules/vue-runtime-helpers/dist/normalize-component.js","../node_modules/vue-runtime-helpers/dist/inject-style/browser.js","../src/Node.vue","../src/index.js"],"sourcesContent":["import Vue from 'vue';\n\nVue.filter('kebab', (str) => {\n    const replace = s =>  s.toLowerCase().replace(/ /g, '-');\n\n    return Array.isArray(str) ?  str.map(replace) : replace(str);\n});","export default {\n    props: ['node', 'editor', 'bindSocket', 'bindControl'],\n    methods: {\n        inputs() {\n            return Array.from(this.node.inputs.values())\n        },\n        outputs() {\n            return Array.from(this.node.outputs.values())\n        },\n        controls() {\n            return Array.from(this.node.controls.values())\n        },\n        selected() {\n            return this.editor.selected.contains(this.node) ? 'selected' : '';\n        }\n    },\n    directives: {\n        socket: {\n            bind(el, binding, vnode) {\n                vnode.context.bindSocket(el, binding.arg, binding.value);\n            },\n            update(el, binding, vnode) {\n                vnode.context.bindSocket(el, binding.arg, binding.value);\n            }\n        },\n        control: {\n            bind(el, binding, vnode) {\n                if (!binding.value) return;\n\n                vnode.context.bindControl(el, binding.value);\n            }\n        }\n    }\n}","<template lang=\"pug\">\n.socket(\n  :class=\"[type, socket.name] | kebab\",\n  :title=\"socket.name\"\n)\n</template>\n\n<script>\nexport default {\n  props: ['type', 'socket']\n}\n</script>\n\n<style lang=\"sass\" scoped>\n@import \"./vars\"\n\n.socket\n  display: inline-block\n  cursor: pointer\n  border: 1px solid white\n  border-radius: $socket-size/2.0\n  width: $socket-size\n  height: $socket-size\n  margin: $socket-margin\n  vertical-align: middle\n  background: $socket-color\n  z-index: 2\n  box-sizing: border-box\n  &:hover\n    border-width: 4px\n  &.multiple\n    border-color: yellow\n  &.output\n    margin-right: - $socket-size / 2\n  &.input\n    margin-left: - $socket-size / 2\n</style>\n","'use strict';\n\nfunction normalizeComponent(template, style, script, scopeId, isFunctionalTemplate, moduleIdentifier\n/* server only */\n, shadowMode, createInjector, createInjectorSSR, createInjectorShadow) {\n  if (typeof shadowMode !== 'boolean') {\n    createInjectorSSR = createInjector;\n    createInjector = shadowMode;\n    shadowMode = false;\n  } // Vue.extend constructor export interop.\n\n\n  var options = typeof script === 'function' ? script.options : script; // render functions\n\n  if (template && template.render) {\n    options.render = template.render;\n    options.staticRenderFns = template.staticRenderFns;\n    options._compiled = true; // functional template\n\n    if (isFunctionalTemplate) {\n      options.functional = true;\n    }\n  } // scopedId\n\n\n  if (scopeId) {\n    options._scopeId = scopeId;\n  }\n\n  var hook;\n\n  if (moduleIdentifier) {\n    // server build\n    hook = function hook(context) {\n      // 2.3 injection\n      context = context || // cached call\n      this.$vnode && this.$vnode.ssrContext || // stateful\n      this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext; // functional\n      // 2.2 with runInNewContext: true\n\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__;\n      } // inject component styles\n\n\n      if (style) {\n        style.call(this, createInjectorSSR(context));\n      } // register component module identifier for async chunk inference\n\n\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier);\n      }\n    }; // used by ssr in case component is cached and beforeCreate\n    // never gets called\n\n\n    options._ssrRegister = hook;\n  } else if (style) {\n    hook = shadowMode ? function () {\n      style.call(this, createInjectorShadow(this.$root.$options.shadowRoot));\n    } : function (context) {\n      style.call(this, createInjector(context));\n    };\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // register for functional component in vue file\n      var originalRender = options.render;\n\n      options.render = function renderWithStyleInjection(h, context) {\n        hook.call(context);\n        return originalRender(h, context);\n      };\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate;\n      options.beforeCreate = existing ? [].concat(existing, hook) : [hook];\n    }\n  }\n\n  return script;\n}\n\nmodule.exports = normalizeComponent;\n//# sourceMappingURL=normalize-component.js.map\n","'use strict';\n\nvar isOldIE = typeof navigator !== 'undefined' && /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase());\nfunction createInjector(context) {\n  return function (id, style) {\n    return addStyle(id, style);\n  };\n}\nvar HEAD = document.head || document.getElementsByTagName('head')[0];\nvar styles = {};\n\nfunction addStyle(id, css) {\n  var group = isOldIE ? css.media || 'default' : id;\n  var style = styles[group] || (styles[group] = {\n    ids: new Set(),\n    styles: []\n  });\n\n  if (!style.ids.has(id)) {\n    style.ids.add(id);\n    var code = css.source;\n\n    if (css.map) {\n      // https://developer.chrome.com/devtools/docs/javascript-debugging\n      // this makes source maps inside style tags work properly in Chrome\n      code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */'; // http://stackoverflow.com/a/26603875\n\n      code += '\\n/*# sourceMappingURL=data:application/json;base64,' + btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) + ' */';\n    }\n\n    if (!style.element) {\n      style.element = document.createElement('style');\n      style.element.type = 'text/css';\n      if (css.media) style.element.setAttribute('media', css.media);\n      HEAD.appendChild(style.element);\n    }\n\n    if ('styleSheet' in style.element) {\n      style.styles.push(code);\n      style.element.styleSheet.cssText = style.styles.filter(Boolean).join('\\n');\n    } else {\n      var index = style.ids.size - 1;\n      var textNode = document.createTextNode(code);\n      var nodes = style.element.childNodes;\n      if (nodes[index]) style.element.removeChild(nodes[index]);\n      if (nodes.length) style.element.insertBefore(textNode, nodes[index]);else style.element.appendChild(textNode);\n    }\n  }\n}\n\nmodule.exports = createInjector;\n//# sourceMappingURL=browser.js.map\n","<template lang=\"pug\">\n.node(:class=\"[selected(), node.name] | kebab\")\n  .title {{node.name}}\n\n  // Outputs\n  .output(v-for='output in outputs()' :key=\"output.key\")\n    .output-title {{output.name}}\n    Socket(v-socket:output=\"output\", type=\"output\", :socket=\"output.socket\")\n\n  // Controls\n  .control(\n    v-for='control in controls()',\n    v-control=\"control\"\n  )\n\n  // Inputs\n  .input(v-for='input in inputs()' :key=\"input.key\")\n    Socket(v-socket:input=\"input\", type=\"input\", :socket=\"input.socket\")\n    .input-title(v-show='!input.showControl()') {{input.name}}\n    .input-control(\n      v-show='input.showControl()'\n      v-control=\"input.control\"\n    )\n</template>\n\n<script>\nimport mixin from './mixin';\nimport Socket from './Socket.vue';\n\nexport default {\n  mixins: [mixin],\n  components: {\n    Socket\n  }\n}\n</script>\n\n<style lang=\"sass\" scoped>\n@import \"./vars\"\n\n.node\n  background: $node-color\n  border: 2px solid #4e58bf\n  border-radius: 10px\n  cursor: pointer\n  min-width: $node-width\n  height: auto\n  padding-bottom: 6px\n  box-sizing: content-box\n  position: relative\n  user-select: none\n  &:hover\n    background: lighten($node-color,4%)\n  &.selected\n    background: $node-color-selected\n    border-color: #e3c000\n  .title\n    color: white\n    font-family: sans-serif\n    font-size: 18px\n    padding: 8px\n  .output\n    text-align: right\n  .input\n    text-align: left\n  .input-title,.output-title\n    vertical-align: middle\n    color: white\n    display: inline-block\n    font-family: sans-serif\n    font-size: 14px\n    margin: $socket-margin\n    line-height: $socket-size\n  .input-control\n    z-index: 1\n    width: calc(100% - #{$socket-size + 2*$socket-margin})\n    vertical-align: middle\n    display: inline-block\n  .control\n    padding: $socket-margin $socket-size/2 + $socket-margin\n</style>","import './filters';\nimport Node from './Node.vue';\nimport Socket from './Socket.vue';\nimport Vue from 'vue';\nimport mixin from './mixin';\n\nfunction createVue(el, vueComponent, vueProps, options = {}) {\n    const app = new Vue({\n        render: h => h(vueComponent, { props: vueProps }),\n        ...options\n    });\n\n    const nodeEl = document.createElement('div');\n\n    el.appendChild(nodeEl);\n    app.$mount(nodeEl);\n    \n    return app;\n}\n\nfunction createNode(editor, CommonVueComponent, { el, node, component, bindSocket, bindControl }, options) {\n    const vueComponent = component.component || CommonVueComponent || Node;\n    const vueProps = { ...component.props, node, editor, bindSocket, bindControl };\n    const app = createVue(el, vueComponent, vueProps, options);\n\n    node.vueContext = app.$children[0];\n\n    return app;\n}\n\nfunction createControl(editor, { el, control }, options) {\n    const vueComponent = control.component;\n    const vueProps = { ...control.props, getData: control.getData.bind(control), putData: control.putData.bind(control) };\n    const app = createVue(el, vueComponent, vueProps, options);\n\n    control.vueContext = app.$children[0];\n\n    return app;\n}\n\nconst update = (entity) => {\n    return new Promise((res) => {\n        if (!entity.vueContext) return res();\n\n        entity.vueContext.$forceUpdate();\n        entity.vueContext.$nextTick(res);\n    });\n}\n\nfunction install(editor, { component: CommonVueComponent, options }) {\n    editor.on('rendernode', ({ el, node, component, bindSocket, bindControl }) => {\n        if (component.render && component.render !== 'vue') return;\n        node._vue = createNode(editor, CommonVueComponent, { el, node, component, bindSocket, bindControl }, options);\n        node.update = async () => await update(node);\n    });\n\n    editor.on('rendercontrol', ({ el, control }) => {\n        if (control.render && control.render !== 'vue') return;\n        control._vue = createControl(editor, { el, control }, options);\n        control.update = async () => await update(control)\n    });\n\n    editor.on('connectioncreated connectionremoved', connection => {\n        update(connection.output.node)\n        update(connection.input.node)\n    });\n\n    editor.on('nodeselected', () => {\n        editor.nodes.map(update);\n    });\n}\n\nexport default {\n    name: 'vue-render',\n    install,\n    mixin,\n    Node,\n    Socket\n}\n"],"names":["Vue","filter","str","replace","s","toLowerCase","Array","isArray","map","props","methods","inputs","from","node","values","outputs","controls","selected","editor","contains","directives","socket","bind","el","binding","vnode","context","bindSocket","arg","value","update","control","bindControl","createVue","vueComponent","vueProps","options","app","render","h","nodeEl","document","createElement","appendChild","$mount","createNode","CommonVueComponent","component","Node","vueContext","$children","createControl","getData","putData","entity","Promise","res","$forceUpdate","$nextTick","install","on","_vue","connection","output","input","nodes","name","mixin","Socket"],"mappings":"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"}